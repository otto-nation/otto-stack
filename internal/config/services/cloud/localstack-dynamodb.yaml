name: localstack-dynamodb
description: LocalStack DynamoDB NoSQL database emulation
category: cloud
version: "latest"

dependencies:
  required: [localstack-core]
  soft: []
  conflicts: []
  provides: [dynamodb, nosql]

options:
  - default_tables
examples:
  - "aws --endpoint-url=http://localhost:4566 dynamodb list-tables"
usage_notes: "DynamoDB NoSQL database emulation for local development"
links:
  - "https://docs.localstack.cloud/user-guide/aws/dynamodb/"

spring_config:
  properties:
    - "amazon.dynamodb.endpoint=http://localhost:${LOCALSTACK_PORT:-4566}"
    - "amazon.aws.accesskey=test"
    - "amazon.aws.secretkey=test"
    - "amazon.aws.region=us-east-1"

cli_commands:
  list_tables: "aws --endpoint-url=http://localhost:4566 dynamodb list-tables"
  create_table: "aws --endpoint-url=http://localhost:4566 dynamodb create-table --table-name test-table --attribute-definitions AttributeName=id,AttributeType=S --key-schema AttributeName=id,KeyType=HASH --billing-mode PAY_PER_REQUEST"
  scan_table: "aws --endpoint-url=http://localhost:4566 dynamodb scan --table-name test-table"

default_tables:
  - name: "users"
    partition_key: "id"
    partition_key_type: "S"
  - name: "sessions"
    partition_key: "session_id"
    partition_key_type: "S"
  - name: "events"
    partition_key: "event_id"
    partition_key_type: "S"
    sort_key: "timestamp"
    sort_key_type: "N"

docs:
  - name: LocalStack DynamoDB Documentation
    url: https://docs.localstack.cloud/user-guide/aws/dynamodb/

use_cases:
  - NoSQL database testing
  - High-performance data storage
  - Session management
  - Event sourcing patterns
