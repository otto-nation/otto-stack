name: localstack-sqs
description: LocalStack SQS (Simple Queue Service) emulation
service_type: configuration

container:
  restart: unless-stopped

service:
  dependencies:
    required:
      - localstack
    provides:
      - sqs
      - messaging-queue

configuration_schema:
  type: object
  properties:
    queues:
      type: array
      description: SQS queues to create
      items:
        type: object
        properties:
          name:
            type: string
            description: Queue name
          visibility_timeout:
            type: integer
            default: 30
            description: Message visibility timeout in seconds
          dead_letter_queue:
            type: string
            description: Dead letter queue name
          max_receive_count:
            type: integer
            default: 3
            description: Max receive count before moving to DLQ
          subscription:
            type: object
            properties:
              topic:
                type: string
                description: Topic name for subscription
              rawMessageDelivery:
                type: boolean
                default: true
                description: Whether to deliver raw messages
            required: ["topic"]
        required: ["name"]

documentation:
  usage_notes: SQS message queue emulation for local development
  links:
    - https://docs.localstack.cloud/user-guide/aws/sqs/
  use_cases:
    - Message queue testing
    - Asynchronous processing development
    - Event-driven architecture testing
