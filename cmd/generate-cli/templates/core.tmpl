// Code generated by generate-cli. DO NOT EDIT.

package core

import (
	"github.com/spf13/cobra"
{{- $hasTimeoutFields := false -}}
{{- range .CommandsData -}}
	{{- range .Fields -}}
		{{- if and (eq .FlagName "timeout") (eq .YAMLType "int") -}}
			{{- $hasTimeoutFields = true -}}
		{{- end -}}
	{{- end -}}
{{- end -}}
{{- if $hasTimeoutFields}}
	"time"
{{- end}}
)

// Command constants
const (
{{range .Commands}}	{{.Name}} = {{.Value}}
{{end}})

// Flag constants
const (
{{range .Flags}}	{{.Name}} = {{.Value}}
{{end}})

// Icon constants
const (
{{range .Icons}}	{{.Name}} = {{.Value}}
{{end}})

// Icons contains all icons from commands.yaml
var Icons = map[string]string{
{{range .Icons}}	"{{.Key}}": {{.Value}},
{{end}}}

// ValidationOptions contains available validation options
var ValidationOptions = map[string]string{
{{range .ValidationOptions}}	"{{.Key}}": "{{.Description}}",
{{end}}}

// ValidationRequired contains which validations are required
var ValidationRequired = map[string]bool{
{{range .ValidationOptions}}	"{{.Key}}": {{.Required}},
{{end}}}

// Validation constants
const (
{{range .ValidationOptions}}	Validation{{.Key | toPascalCase}} = "{{.Key}}"
{{end}})

// ValidationKeys contains all validation option keys
var ValidationKeys = []string{
{{range .ValidationOptions}}	Validation{{.Key | toPascalCase}},
{{end}}}

{{range .CommandsData}}
// {{.StructName}} holds the parsed flags for the {{.CommandName}} command
type {{.StructName}} struct {
{{range .Fields}}	{{.Name}} {{.Type}} `flag:"{{.FlagName}}"`
{{end}}{{range .Fields}}{{if and (eq .FlagName "timeout") (eq .YAMLType "int")}}	{{.Name}}Duration time.Duration
{{end}}{{end}}}

// {{.FuncName}} parses flags for the {{.CommandName}} command
func {{.FuncName}}(cmd *cobra.Command) (*{{.StructName}}, error) {
	flags := &{{.StructName}}{}
	parseFlags(cmd, flags)

{{range .Fields}}{{if and (eq .FlagName "timeout") (eq .YAMLType "int")}}	flags.{{.Name}}Duration = time.Duration(flags.{{.Name}}) * time.Second
{{end}}{{end}}	return flags, nil
}

{{end}}
